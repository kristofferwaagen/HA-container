services:
  homeassistant:
    image: homeassistant/home-assistant:${HA_VERSION:-stable}
    # After first pull you may replace the above with a digest-pinned form:
    # image: homeassistant/home-assistant@${HA_IMAGE_DIGEST}
    container_name: homeassistant
    restart: unless-stopped
    environment:
      - TZ=${TZ:-Europe/Oslo}
      - PUID=${PUID:-1000}
      - PGID=${PGID:-1000}
    ports:
      - "8123:8123"
    volumes:
      - ${CONFIG_DIR:-./config}:/config
    # Deterministic read-only mode example (uncomment to enable):
    # read_only: true
    # tmpfs:
    #   - /tmp
    #   - /run
    #   - /config:rw,size=64m
